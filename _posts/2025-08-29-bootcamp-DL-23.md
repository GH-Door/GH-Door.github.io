---
layout: post
title: "[Upstage AI Lab] Langchain Project"
description: "[Upstage AI Lab] 23주차 - Langchain Project 회고"
author: "DoorNote"
date: 2025-08-29 10:00:00 +0900
#  permalink: //
categories:
    - AI | 인공지능
    - Upstage AI Lab
tags: [RAG, Langchain, 프로젝트]
use_math: true
comments: true
pin: false # 고정핀
math: true
mermaid: true
image: /assets/img/Langchain-Project.png
---

## Langchain Project

> **Langchain Project** 프로젝트에 대한 주요 내용과 회고록
{: .prompt-tip }

---

### 1. 개요

> 본 프로젝트는 **LangChain**을 활용한 **RAG System**을 구현하여 대법원 판례 데이터를 기반으로  
> **전문적인 법률 질의응답 서비스**를 제공하는 것이 목표
{: .prompt-info }

**Project Overview**

- Project Duration: **2025.08.12 ~ 2025.08.29**
- Team: **5명**
- Goal: AI Hub 대법원 판례 데이터를 활용한 **법률 전문 RAG 시스템** 구현

<br>

### 2. Architecture

> 아래 이미지는 **우리 팀**이 구축한 **RAG System 아키텍처**다.  
{: .prompt-info }

![Langchain-Architecture](/assets/img/Langchain-Architecture.png){: width="800" .center}
_Architecture_

**주요 기능**

- **AI Hub 대법원 판례 데이터**: 법률 전문 지식베이스 구축
- **Naive & Embedding 기반 검색**: 키워드 검색과 의미적 유사도 검색 결합
- **Domain-specific Prompt Engineering**: 법률 전문 프롬프트 최적화
- **Multi-LLM Support**: Upstage, OpenAI, Anthropic 모델 지원
- **Modular Architecture**: 유연한 설정과 확장 가능한 구조

<br>

**기술 스택**

- **Core Framework**: LangChain, Hydra, OmegaConf
- **Embeddings**: Jina V3, sentence-transformers  
- **Vector Store**: FAISS
- **LLMs**: Upstage **Solar**, OpenAI **GPT**, Anthropic **Claude**

<br>

### 3. Demo

> 아래는 Legal RAG System의 주요 화면 예시다.  
{: .prompt-info }

<img src="/assets/img/Langchain-Demo-1.png" style="display:block;margin:0 auto;box-shadow:4px 4px 15px rgba(0,0,0,0.3);border-radius:8px;" width="800">
_RAG System Interface_

<img src="/assets/img/Langchain-Demo-2.png" style="display:block;margin:0 auto;box-shadow:4px 4px 15px rgba(0,0,0,0.3);border-radius:8px;" width="800">
_Result_

**시스템 특징**

- **구조화된 법률 응답**: 판례 인용과 함께 체계적인 답변 제공
- **투명한 검색 메커니즘**: 검색된 판례의 출처와 근거 명시
- **다중 검색 방식**: Naive 검색과 Embedding 기반 검색 결합
- **설정 가능한 구성**: Hydra 기반 모듈형 아키텍처로 유연한 설정

<br>

### 4. 주요 역할

> 본 프로젝트는 **팀 프로젝트로 진행**되었으며, 이 섹션에서는 내가 맡았던 **주요 작업**에 대해 설명한다.
{: .prompt-info }

- **Legal Prompt Engineering**  
  법률 도메인에 특화된 **프롬프트 템플릿 설계 및 최적화**, 판례 인용과 체계적 답변 구조 구현  

- **Multi-LLM Integration**  
  **Upstage Solar, OpenAI GPT, Anthropic Claude** 등 다양한 LLM 모델 통합 및 성능 비교 분석  

- **Development Environment Setup**  
  **UV 기반 가상환경** 구축 및 팀원들을 위한 **환경 설정 가이드 라인 공유**

- **Configuration Management**  
  **Hydra와 OmegaConf**를 활용한 모듈형 설정 시스템 구축으로 **실험 추적 및 재현성 보장**

<br>
<br>

## 회고

> 이 섹션은 **Langchain Project**를 진행하며 얻은 **문제 해결 및 회고**에 대한 내용을 다룬다.
{: .prompt-tip }

---

### 문제 & 해결 과정

<br>

**문제**

**Legal RAG System** 구현 과정에서 **법률 도메인 특성상 복잡한 법률 용어와 판례 구조**로 인해  
기존 일반적인 RAG 접근 방식으로는 **정확한 법률 정보 검색과 해석**에 어려움이 있었다.  
특히 **유사한 법률 개념들 간의 미묘한 차이**를 구분하고 **정확한 판례 인용**을 제공하는 데 있어  
단순한 키워드 매칭이나 일반적인 임베딩 검색만으로는 **전문성 있는 답변 품질**을 확보하기 어려웠다.  

<br>

**해결 과정**

**Naive 검색과 Embedding 기반 검색을 결합한 하이브리드 접근법**을 도입했다.  
법률 전문 용어에 대해서는 **정확한 키워드 매칭**을 우선하고,  
복잡한 법률 개념과 상황적 맥락에 대해서는 **의미적 유사도 검색**을 활용했다.  
또한 **도메인 특화 프롬프트 엔지니어링**을 통해 판례 인용 형식과 법률 답변 구조를 최적화했다.

<br>

### 인사이트

**아쉬웠던 점**  

> 더 다양한 **검색 알고리즘과 임베딩 모델**을 실험해보지 못한 점 과  
> **예비군 훈련** 과 **인턴십 면접 준비** 등 으로 인해 많은 시간을 투자하지 못한 것이 아쉽다.  
> **LangSmith를 활용해 실험**을 좀 더 체계적으로 했다면 성능 개선 과정을 더 효율적으로 진행할 수 있었을 것 같다.

<br>

**알게 된 점**  

> **법률 도메인**과 같은 **전문 분야에서는 단순한 RAG 구현보다 도메인 특화 최적화**가 필수라는 것을 알았다.
> **LangChain의 모듈형 아키텍처**는 다양한 컴포넌트를 유연하게 조합하여 **실험과 성능 튜닝**을 가능하게 해주었다.  
> **Configurable design**을 통해 **실험 재현성과 협업 효율성**을 크게 향상시킬 수 있음을 경험했다.